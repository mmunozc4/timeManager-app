<main class="services-container">
  <header class="page-header"> <button class="back-button" (click)="navigateBefore()"> <mat-icon>arrow_back</mat-icon>
    </button>
    <div class="title">
      <h2>Servicios</h2>
    </div>
  </header>
  <section class="status-messages">
    <p *ngIf="loading" class="loading-message">Cargando servicios...</p>
    <p *ngIf="error" class="error-message">{{ error }}</p>
    <div *ngIf="!loading && services.length === 0 && !error" class="empty-state">
      <p>No hay servicios publicados para este comercio.</p> <button class="retry-button"
        (click)="loadServices()">Reintentar</button>
    </div>
  </section>
  <section class="services-grid" *ngIf="services.length > 0">
    <article class="service-card" *ngFor="let s of services">
      <div class="card-content">
        <h2 class="service-title">{{ s.name }}</h2>
        <p class="service-description">{{ s.description || 'Sin descripción' }}</p>
        <div class="service-meta">
          <p class="price">Precio: <span class="price-value">{{ s.price ? (s.price | currency) : 'No definido' }}</span>
          </p>
          <p *ngIf="s.duration_minutes" class="duration">Duración: <span class="duration-value">{{ s.duration_minutes }}
              min</span></p>
        </div>
      </div>
      <footer class="card-footer"> <button class="schedule-button"
          (click)="openAppointmentSchedule(s.id, s.name)">Agendar</button> </footer>
    </article>
  </section>
</main>